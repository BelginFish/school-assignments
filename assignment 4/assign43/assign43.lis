                        .module assign43.c
                        .area text
 0000                   .dbfile M:\SYSC20~3\ASSIGN~4\assign43\assign43.c
 0000                   .dbfunc e main _main fV
 0000           _main::
 0000                   .dbline -1
 0000                   .dbline 5
 0000           ; #include <stdio.h>
 0000           ; #include "hcs12dp256.h"
 0000           ; 
 0000           ; 
 0000           ; void main(){
 0000                   .dbline 6
 0000           ;        SPI1CR1 = 0x00;                   //Turn off SPI
 0000 7900F0            clr 0xf0
 0003                   .dbline 7
 0003           ;        DDRP = 0xFF;
 0003 C6FF              ldab #255
 0005 7B025A            stab 0x25a
 0008                   .dbline 8
 0008           ;        DDRT = 0xFF;
 0008 C6FF              ldab #255
 000A 7B0242            stab 0x242
 000D                   .dbline 10
 000D           ;        
 000D           ;        PTP = 0x20;
 000D C620              ldab #32
 000F 7B0258            stab 0x258
 0012                   .dbline 11
 0012           ;        delay(50);
 0012 CC0032            ldd #50
 0015 1600B8            jsr _delay
 0018                   .dbline 12
 0018           ;        PTT = 0x04;
 0018 C604              ldab #4
 001A 7B0240            stab 0x240
 001D                   .dbline 13
 001D           ;        delay(50);
 001D CC0032            ldd #50
 0020 1600B8            jsr _delay
 0023                   .dbline 14
 0023           ;        PTT = 0x04;
 0023 C604              ldab #4
 0025 7B0240            stab 0x240
 0028                   .dbline 15
 0028           ;        delay(50);
 0028 CC0032            ldd #50
 002B 1600B8            jsr _delay
 002E                   .dbline 16
 002E           ;        PTT = 0x04;
 002E C604              ldab #4
 0030 7B0240            stab 0x240
 0033                   .dbline 17
 0033           ;        delay(50);
 0033 CC0032            ldd #50
 0036 1600B8            jsr _delay
 0039                   .dbline 18
 0039           ;        PTT = 0x04;
 0039 C604              ldab #4
 003B 7B0240            stab 0x240
 003E                   .dbline 19
 003E           ;        delay(50);
 003E CC0032            ldd #50
 0041 1600B8            jsr _delay
 0044                   .dbline 20
 0044           ;        PTT = 0x04;
 0044 C604              ldab #4
 0046 7B0240            stab 0x240
 0049                   .dbline 21
 0049           ;        delay(50);
 0049 CC0032            ldd #50
 004C 1600B8            jsr _delay
 004F                   .dbline 22
 004F           ;        PTT = 0x04;
 004F C604              ldab #4
 0051 7B0240            stab 0x240
 0054                   .dbline 23
 0054           ;        delay(50);
 0054 CC0032            ldd #50
 0057 1600B8            jsr _delay
 005A                   .dbline 25
 005A           ;       
 005A           ;        printf("yo");
 005A CC00F5            ldd #L4
 005D 160000            jsr _printf
 0060                   .dbline 26
 0060           ;        delay(1000);
 0060 CC03E8            ldd #1000
 0063 1600B8            jsr _delay
 0066                   .dbline 29
 0066           ;       
 0066           ; 
 0066           ;        delay(50);
 0066 CC0032            ldd #50
 0069 1600B8            jsr _delay
 006C                   .dbline 30
 006C           ;        PTT = 0x20;
 006C C620              ldab #32
 006E 7B0240            stab 0x240
 0071                   .dbline 31
 0071           ;        delay(50);
 0071 CC0032            ldd #50
 0074 1600B8            jsr _delay
 0077                   .dbline 32
 0077           ;        PTT = 0x20;
 0077 C620              ldab #32
 0079 7B0240            stab 0x240
 007C                   .dbline 33
 007C           ;        delay(50);
 007C CC0032            ldd #50
 007F 1600B8            jsr _delay
 0082                   .dbline 34
 0082           ;        PTT = 0x20;
 0082 C620              ldab #32
 0084 7B0240            stab 0x240
 0087                   .dbline 35
 0087           ;        delay(50);
 0087 CC0032            ldd #50
 008A 1600B8            jsr _delay
 008D                   .dbline 36
 008D           ;        PTT = 0x20;
 008D C620              ldab #32
 008F 7B0240            stab 0x240
 0092                   .dbline 37
 0092           ;        delay(50);
 0092 CC0032            ldd #50
 0095 1600B8            jsr _delay
 0098                   .dbline 38
 0098           ;        PTT = 0x20;
 0098 C620              ldab #32
 009A 7B0240            stab 0x240
 009D                   .dbline 39
 009D           ;        delay(50);
 009D CC0032            ldd #50
 00A0 1600B8            jsr _delay
 00A3                   .dbline 40
 00A3           ;        PTT = 0x20;
 00A3 C620              ldab #32
 00A5 7B0240            stab 0x240
 00A8                   .dbline 41
 00A8           ;        delay(50);
 00A8 CC0032            ldd #50
 00AB 1600B8            jsr _delay
 00AE                   .dbline 42
 00AE           ;        PTP = 0x00;
 00AE 790258            clr 0x258
 00B1                   .dbline 45
 00B1           ;        
 00B1           ;        
 00B1           ;        printf("end");
 00B1 CC00F1            ldd #L5
 00B4 160000            jsr _printf
 00B7                   .dbline -2
 00B7                   .dbline 47
 00B7           ;        
 00B7           ; }
 00B7           L3:
 00B7                   .dbline 0 ; func end
 00B7 3D                rts
 00B8                   .dbend
 00B8                   .dbfunc e delay _delay fV
 00B8           ;              i -> -6,x
 00B8           ;  delayConstant -> -4,x
 00B8           ;              j -> -2,x
 00B8           ;             ms -> 2,x
 00B8           _delay::
 00B8 3B                pshd
 00B9 34                pshx
 00BA B775              tfr s,x
 00BC 1B9A              leas -6,sp
 00BE                   .dbline -1
 00BE                   .dbline 49
 00BE           ; 
 00BE           ; void delay (int ms){
 00BE                   .dbline 51
 00BE           ; 
 00BE           ;        const int delayConstant = 1234;
 00BE CC04D2            ldd #1234
 00C1 6C1C              std -4,x
 00C3                   .dbline 54
 00C3 CC0000            ldd #0
 00C6 6C1A              std -6,x
 00C8 201B              bra L10
 00CA           L7:
 00CA                   .dbline 54
 00CA           ;        int i, j;
 00CA           ;        
 00CA           ;        for (i=0; i<ms; i++) {
 00CA                   .dbline 55
 00CA CC0000            ldd #0
 00CD 6C1E              std -2,x
 00CF 2007              bra L14
 00D1           L11:
 00D1                   .dbline 55
 00D1                   .dbline 56
 00D1           L12:
 00D1                   .dbline 55
 00D1 EC1E              ldd -2,x
 00D3 C30001            addd #1
 00D6 6C1E              std -2,x
 00D8           L14:
 00D8                   .dbline 55
 00D8 EC1E              ldd -2,x
 00DA AC1C              cpd -4,x
 00DC 2DF3              blt L11
 00DE                   .dbline 57
 00DE           L8:
 00DE                   .dbline 54
 00DE EC1A              ldd -6,x
 00E0 C30001            addd #1
 00E3 6C1A              std -6,x
 00E5           L10:
 00E5                   .dbline 54
 00E5 EC1A              ldd -6,x
 00E7 AC02              cpd 2,x
 00E9 2DDF              blt L7
 00EB                   .dbline -2
 00EB                   .dbline 59
 00EB           ;                for (j=0; j<delayConstant; j++) {
 00EB           ;                }
 00EB           ;       }
 00EB           ;       
 00EB           ; }
 00EB           L6:
 00EB B757              tfr x,s
 00ED 30                pulx
 00EE 1B82              leas 2,sp
 00F0                   .dbline 0 ; func end
 00F0 3D                rts
 00F1                   .dbsym l i -6 I
 00F1                   .dbsym l delayConstant -4 I
 00F1                   .dbsym l j -2 I
 00F1                   .dbsym l ms 2 I
 00F1                   .dbend
 00F1           L5:
 00F1 656E6400          .byte 'e,'n,'d,0
 00F5           L4:
 00F5 796F00            .byte 'y,'o,0
